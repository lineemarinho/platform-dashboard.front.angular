<app-breadcrumb
  [items]="breadcrumbItems"
  [backRoute]="'/payments/payouts'"
></app-breadcrumb>

<div class="p-4 lg:p-6" *ngIf="payment">
  <div class="mb-6">
    <h1 class="text-xl font-bold text-gray-900">
      {{ "orderDetails" | locale }}
    </h1>
  </div>

  <div class="space-y-6">
    <div class="bg-white">
      <h2 class="text-sm font-semibold text-gray-900 mb-4">
        {{ "holderData" | locale }}
      </h2>
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
        <ng-container *ngFor="let field of holderFields">
          <div
            *ngIf="field.label === 'divider'"
            class="col-span-3 border-b border-gray-200 my-4"
          ></div>

          <div *ngIf="field.label === ''"></div>

          <app-info-field
            *ngIf="field.label !== 'divider' && field.label !== ''"
            [label]="field.label | locale"
            [value]="field.value"
          >
            <ng-container *ngIf="field.copy">
              <button
                (click)="onCopyToClipboard(field.value, field.label)"
                class="ml-2 text-gray-400 hover:text-gray-600 transition-colors"
                title="Copiar"
                type="button"
              >
                <span class="material-icons text-sm">content_copy</span>
              </button>
            </ng-container>
          </app-info-field>
        </ng-container>
      </div>
    </div>

    <div class="bg-white">
      <h2 class="text-sm font-semibold text-gray-900 mb-4">
        {{ "payer" | locale }}
      </h2>
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
        <ng-container *ngFor="let field of payerFields">
          <app-info-field
            [label]="field.label | locale"
            [value]="field.value"
          ></app-info-field>
        </ng-container>
      </div>
    </div>

    <div class="bg-white">
      <h2 class="text-sm font-semibold text-gray-900 mb-4">
        {{ "recipient" | locale }}
      </h2>
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
        <ng-container *ngFor="let field of recipientFields">
          <div
            *ngIf="field.label === 'divider'"
            class="col-span-3 border-b border-gray-200 my-4"
          ></div>

          <div *ngIf="field.label === ''"></div>

          <app-info-field
            *ngIf="field.label !== 'divider' && field.label !== ''"
            [label]="field.label | locale"
            [value]="field.value"
          ></app-info-field>
        </ng-container>
      </div>
    </div>

    <div class="bg-white">
      <h2 class="text-sm font-semibold text-gray-900 mb-4">
        {{ "fees" | locale }}
      </h2>
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
        <ng-container *ngFor="let field of feesFields">
          <div
            *ngIf="field.label === 'divider'"
            class="col-span-3 border-b border-gray-200 my-4"
          ></div>

          <app-info-field
            *ngIf="field.label !== 'divider'"
            [label]="field.label | locale"
            [value]="field.value"
          ></app-info-field>
        </ng-container>
      </div>
    </div>

    <div class="bg-white">
      <h2 class="text-sm font-semibold text-gray-900 mb-4">
        {{ "orderTransactions" | locale }}
      </h2>
      <div class="overflow-x-auto">
        <table class="min-w-full bg-white rounded-xl overflow-hidden">
          <thead class="bg-gray-50">
            <tr>
              <th
                *ngFor="let column of transactionColumns"
                class="px-6 py-5 text-left text-xs bg-[#E7EEEE] text-[#0A1535] font-medium"
              >
                {{ column.label | locale }}
              </th>
            </tr>
          </thead>
          <tbody
            class="bg-white divide-y border border-[#E7EEEE] divide-[#E7EEEE]"
          >
            <tr *ngFor="let row of transactionRows" class="hover:bg-gray-50">
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ row.referenceId }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ row.description }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ row.account }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ row.counterpartyAccount }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ row.currency }}
              </td>
              <td
                class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium"
              >
                {{ row.value }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ row.createdAt }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
